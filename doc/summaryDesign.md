# 概要设计

### 目录

一、功能设计

二、数据库数据设计

三、界面设计

四、框架设计



### 一、功能设计

#### 1. 用例图

##### 整体用例图

![用例图](\asset\用例图.png)

##### 个体的用例图

+ 企业用户

![企业用例图](\asset\企业用户用例图.png)

+ 省用户

![省用户用例图](\asset\省用户用例图.png)

+ 市用户

![市用户用例图](\asset\市用户用例图.png)



##### 省市企业需求对比

<img src="\asset\省市对比省部分.png" style="zoom: 50%;" />

<img src="\asset\省市对比市部分.png" style="zoom: 50%;" />

#### 2. 各用例设计

##### 登录

+ 基本描述：

    用户输入账号密码，后台自动按照用户的类型和权限进入不同端的页面主页

+ 基本事件流：

    1. 用户输入账户密码后点击登录。
    2. 后台在数据库中检查登录的账号密码是否匹配，返回登录结果和用户类型信息。
    3. 用户能看到登陆结果。如果登陆成功，进入相应的客户端主页；否则需要重新输入账号密码，或者联系省端进行密码找回。

+ 特殊情况：

    + 如果企业用户**以“未备案成功”状态**登录网页，需要首先进入“企业备案” 页面进行信息备案；等待备案通过后，才可使用其他功能。

##### 企业端：

+ 企业备案：

    + 基本描述：

        企业端用户在使用其他功能之前，需要先进行备案。备案信息包括：所属地区、组织机构代码、企业名称、企业性质、所属行业、主要经营业务、联系人、联系地址、邮政编码、联系电话、传真、EMAIL等。包括填表、修改和查看功能。

    + 基本事件流：

        1. 当企业用户第一次进入系统时，**企业用户的状态为“未备案成功”**，此时只能进入企业备案页面；
        2. 填写相关备案信息并确认后，数据上传到数据库，此时**企业用户的状态仍然为“未备案成功”**，等待省政府的备案审批；
        3. 等待省政府备案审批通过后，此时**企业用户的状态变为“备案成功”**，下次企业用户登录系统时将可以使用所有企业用户可以使用的功能。

    + 特殊情况：

        + 当**处于“备案成功”状态下的企业用户**之后需要查看或者修改自己的备案信息时，此时可以查看备案所有的信息，但只能修改联系人、联系地址、邮政编码、联系电话、传真、EMAIL等非重要信息。并且此次修改直接传到数据库中，不再需要审批和企业用户状态的切换。

+ 数据上报：

    + 基本描述：

        企业端用户在每一调查期内，都应该上报一次调查期内企业的就业人数信息。如果有就业人数减少的现象，还需选择就业人数减少类型和造成就业人数减少的原因，并说明大致情况。

    + 基本事件流：

        1. 企业用户进入“数据上报”页面，如果在本调查期内企业已填写上报数据，或者填写上报数据后被驳回，都会直接显示填报的数据情况；如果在一个调查期内，企业第一次进入该页面，那么只有**“建档期人数”**处有信息，默认是上一调查期企业上报的“调查期人数”（如果企业第一次使用“数据上报功能”，见下方的特殊情况）。
        2. **当且仅当企业处于“未上报数据”或者“企业上报市未审核”状态，**才可以点击“数据上报”页面的修改。当企业点击下方的“修改”后，进入“调整报表”页面，在该页面中可以修改报表中相关的数据，修改完成后，点击“提交“按钮后，即可上报本调查期内的报表。
        3. 当企业处于**“企业上报市未审核”状态，**时，企业可以反复使用”数据上报“页面的修改功能，修改企业上报的报表数据。等到企业处于”市审批通过“状态后（除非因为被省审批驳回会回到**“未上报数据”状态**），企业就不能再手动修改报表数据了。

    ![](\asset\数据上报流程的企业状态转移图.png)

    + 特殊情况：
        + 当企业用户第一次使用“数据上报”功能时，此时建档期默认无数字。当企业输入调查期人数时，建档期就业人数自动与输入的调查期人数一致。由于此次建档期人数等于调查期人数，就业人数减少类型和造成就业人数减少的原因便无需填写。

+ 通知查询

    + 基本事件流：

        ![image-20231026165337052](C:\Users\Lin Chen\AppData\Roaming\Typora\typora-user-images\image-20231026165337052.png)

+ 本企业数据查询

    + 基本描述：

        企业端用户可以查询往期上报的相关数据。

    + 基本事件流：

        1. 企业用户进入”数据查询“页面，选择相应的时间段后，点击”查询”按钮。
        2. 后台服务器先根据用户在前一步骤中选择时间段所覆盖的调查期，然后在数据库中调出该用户在所覆盖的调查期内上报数据
        3. 前台以表格的形式显示出该数据



##### 省端：

+ 审核备案
    + 基本描述
    + 基本事件流

+ 查询企业信息
    + 基本描述
    + 基本事件流
+ 审核和上报数据
    + 基本描述
    + 基本事件流
+ 发布通知
    + 基本描述
    + 基本事件流
+ 数据查询
    + 基本描述
    + 基本事件流
+ 代填报数据
    + 基本描述
    + 基本事件流
+ 数据汇总
    + 基本描述
    + 基本事件流
+ 数据分析
    + 基本描述
    + 基本事件流
+ 系统设置
    + 基本描述
    + 基本事件流





##### 市端：

省端的子集。具体用例设计可以查看省端。



### 二、数据库数据设计





### 三、界面设计

请见vue界面



### 四、框架设计

采用 vue + springboot + mysql的框架

| 使用技术   | 相关版本                                                     |
| ---------- | ------------------------------------------------------------ |
| vue        | 使用vue2<br />npm：9.8.1<br />vue/cli：5.0.8<br />element-ui：2.15.14<br />其余部件版本可见 仓库`\src\ui\vue-test\`目录下`package-lock.json`文件 |
| springboot | springboot：3.13<br />jdk：17                                |
| mysql      | 待定                                                         |

